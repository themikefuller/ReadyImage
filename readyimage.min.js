"use strict";function readyImage(file,options={}){return new Promise((resolve,reject)=>{if(!file)return reject({code:400,message:"No files selected."});loadImage(file,data=>{if("error"===data.type)return reject({code:400,message:"File was not recognized as an image."});let settings={};options.maxWidth&&(settings.maxWidth=options.maxWidth),options.crop&&(settings.crop=!0,settings.maxWidth=options.maxWidth||1024,settings.maxHeight=options.maxWidth);let photo=loadImage.scale(data,settings),type=options.type||"jpeg",dataURL=photo.toDataURL("image/"+type,options.quality||1);resolve(dataURL)},{orientation:!0})})}